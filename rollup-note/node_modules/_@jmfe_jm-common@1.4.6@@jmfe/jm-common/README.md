# jm-common

> 移动端基础js库
> > 提供取参、判断对象类型、判断页面环境以及版本信息相关的功能



### 示例
```javascript
$ jnpm install @jmfe/jm-common --save
```

```javascript
	import common from 'jm-common';
	let queries = common.getUrlQuery(['query1', 'query2']);
	if (common.isApp('jd')) {
		// do something ......
	}
```

### 安装

#### npm

```
    npm install -S @jmfe/jm-common --registry=http://registry.m.jd.com
```

#### CDN

``` 
    <script crossorigin src="https://h5static.m.jd.com/act/jm-common/1.4.6/jm-common.js"></script> 
```




### 测试

```
$ npm test
```

### API

#### Query

- **getUrlQuery**([url], [name])  获取链接中参数
	+ url String类型 可选参数 默认为location.href
	+ name String类型 必传参数 链接中的key值
	
	```javascript
		getUrlQuery(name)//获取当前链接的name字段值
	```

- **serialize**(dataObject) 序列化对象 以key=value&key1=value1返回
	+ dataObject Object类型 必传参数 需要序列化的对象

#### Type
- **isArray**(obj) 传入对象是否为数组
- **isNumber**(obj) 传入对象是否为数字
- **isFunction**(obj) 传入对象是否为方法
- **isObject**(obj) 传入对象是否为Object
- **isString**(obj) 传入对象是否为字符串
- **isBoolean**(obj) 传入对象是否为布尔型
- **isNull**(obj)	传入对象是否为Null
- **isUndefined**(obj)	传入对象是否为Undefined

#### Env
> 以下方法中 ua皆为非必传参数 ， 默认取当前ua

- **isApp**(name, [ua])  判断当前环境是否是 特定app
 + name 必传参数 可选值有 wx（微信）, qq, weibo（新浪微博）, jd（京东app）
- **isAndroid**([ua]) 判断是否为 android 设备
- **isIOS**([ua]) 判断是否为 ios 设备
- **isIPhone**([ua])判断是否为iphone
- **isIPad**([ua])判断是否为iphone
- **isTablet**([ua])判断是否为平板设备
- **isMobile**([ua])判断是否为手机设备
- **isWebview**(name, [ua]) 
  + name 必传参数，可选值有 xview、wk（wkWwebview），
- **getNetwork**([ua]) 获取网络类型
  + 返回值为 4g、wifi
- **getUUID**([ua]) 获取 jd app 的 uuid
- **getAppVersion**(appName, [ua]) 获取特定app的版本信息
	+ appName 必传参数 可选值为 jd、wx和qq  
	+ 返回值：jd类似于"7.0.6";wx类似于"6.7.1321(0x26070030)"(安卓) "6.7.1321"(Iphone);qq类似于"7.2.5.3305"
- **getAndroidVersion**([ua]) 获取 Android 系统版本号
	+ 返回值类似于 "7.1.2"
- **getIOSVersion**([ua]) 获取 IOS 系统版本号
	+ 返回值类似于 "11.4.1"

#### Version

- **version**(verStr) 转换版本信息为version对象
 + verStr 版本信息  必传参数 例如支付宝版本10.1.12.123621
 + 返回值 Object对象 
 
```javascript
	{
		full : "10.1.12.123621", 	//传入的版本字符串
		major : "10",				//大版本
		minor : "1",				//小版本
 		patch :	"12"				//迭代补丁版本
	 	build : "123621"			//日期版本号
	}
```
- **versionCompare**(v1, v2) 版本号比较
	+ v1 v2 所需对比的版本信息 必传参数 String类型
	+ 返回值 ： 版本相同返回0；若v1版本较大，则返回1；若v1版本较小，则返回-1；
		

#### Others

- **assign**(arg1, arg2, arg3, .....) 所有可枚举属性的值从一个或多个源对象复制到目标对象




### CDN

- `npm run cdn` 在 /cdn 目录生成zip文件
- zip内部结构： *jm-common/1.4.5/jm-common.js*（自动替换版本号）
- 登录devops.m.jd.com，访问jmfe-active小组jmfe-active-cdn服务，上传zip文件
- cdn访问：https://h5static.m.jd.com/act/jm-common/1.4.5/jm-common.js

### 关于

- jm-common 由 JMFE(Jingdong Mobile Front End) 团队开发和维护；有问题可以联系咚咚: zhaoyue13。
